# –ú–∏–≥—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ —Å n8n –Ω–∞ Gemini 3 Pro Image Preview

## –û–±–∑–æ—Ä

–£—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ —Å n8n workflow –Ω–∞ –Ω–æ–≤—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `creative-generation-service`, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π **Gemini 3 Pro Image Preview API**.

## –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å

**–ü—É—Ç—å:** `services/creative-generation-service/`

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Node.js 20 + TypeScript
- Fastify (–≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- Google Generative AI SDK (`@google/generative-ai`)
- Supabase –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
creative-generation-service/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ texts.ts         # API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ image.ts         # API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gemini.ts        # –ö–ª–∏–µ–Ω—Ç Gemini API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prompts.ts       # System prompts –∏–∑ n8n
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ supabase.ts      # Supabase –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts         # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ server.ts            # –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ DEPLOYMENT.md            # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ TESTING.md               # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
‚îî‚îÄ‚îÄ SETUP_GOOGLE_AI.md       # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ API
```

### 2. –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

#### –ë—ã–ª–æ (n8n):
1. **5 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö webhooks** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤
2. **2-—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å** –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
   - AI Agent ‚Üí OpenAI DALL-E ‚Üí —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - Python PIL ‚Üí –Ω–∞–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ñ–æ–Ω
3. **FormData –∑–∞–ø—Ä–æ—Å—ã** —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
4. **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –ª–∏–º–∏—Ç–∞–º–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π

#### –°—Ç–∞–ª–æ (Gemini 3 Pro):
1. **4 REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤:
   - `POST /generate-offer`
   - `POST /generate-bullets`
   - `POST /generate-profits`
   - `POST /generate-cta`

2. **1-—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å** –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
   - `POST /generate-creative` ‚Üí Gemini 3 Pro Image Preview ‚Üí –≥–æ—Ç–æ–≤—ã–π –∫—Ä–µ–∞—Ç–∏–≤ 1080x1920 —Å —Ç–µ–∫—Å—Ç–æ–º

3. **JSON API** —Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –ª–∏–º–∏—Ç–∞–º–∏ + –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Supabase Storage

### 3. –û–±–Ω–æ–≤–ª–µ–Ω —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

**–§–∞–π–ª:** `services/frontend/src/pages/CreativeGeneration.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω—ã webhooks n8n
- –î–æ–±–∞–≤–ª–µ–Ω `CREATIVE_API_BASE` –¥–ª—è –Ω–æ–≤–æ–≥–æ API
- –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ (–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π JSON —Ñ–æ—Ä–º–∞—Ç)
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ë—ã–ª–æ:**
```typescript
const webhooks = {
  offer: 'https://n8n.performanteaiagency.com/webhook/offer',
  bullets: 'https://n8n.performanteaiagency.com/webhook/bullets',
  ...
};
```

**–°—Ç–∞–ª–æ:**
```typescript
const CREATIVE_API_BASE = import.meta.env.VITE_CREATIVE_API_URL || 'http://localhost:8085';
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î

**–§–∞–π–ª:** `migrations/032_create_generated_creatives.sql`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `generated_creatives` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è AI-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: `generated_creatives` (–¥–æ FB) vs `user_creatives` (–ø–æ—Å–ª–µ FB)
- –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: —Ç–µ–∫—Å—Ç—ã (offer, bullets, profits, cta) + image_url + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 5. –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã system prompts

–í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –∏–∑ n8n workflow –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `src/services/prompts.ts`:
- ‚úÖ –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Offer (–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)
- ‚úÖ –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Bullets (–±—É–ª–ª–µ—Ç–æ–≤)
- ‚úÖ –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Profits (–≤—ã–≥–æ–¥—ã)
- ‚úÖ –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CTA (–ø—Ä–∏–∑—ã–≤–∞ –∫ –¥–µ–π—Å—Ç–≤–∏—é)
- ‚úÖ –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ç–µ–∫—Å—Ç–æ–º

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö° **1 –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ 2-—Ö** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚ö° –ù–µ—Ç overhead –Ω–∞ Python PIL —Å–∫—Ä–∏–ø—Ç—ã
- ‚ö° –ü—Ä—è–º–æ–µ API –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö webhook

### 2. –ö–∞—á–µ—Å—Ç–≤–æ
- üé® **–ù–∞—Ç–∏–≤–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** —á–µ—Ä–µ–∑ Gemini (–ª—É—á—à–µ —á–µ–º PIL)
- üé® **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ** –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∑–æ–Ω Instagram
- üé® **–£–º–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è** —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥ —Ñ–æ–Ω

### 3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- üìà –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ (stateless)
- üìà –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã (Facebook, TikTok)
- üìà –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ AI –º–æ–¥–µ–ª—è–º–∏

### 4. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üõ†Ô∏è –í–µ—Å—å –∫–æ–¥ –≤ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- üõ†Ô∏è TypeScript –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- üõ†Ô∏è –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- üõ†Ô∏è –ü—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 5. –°—Ç–æ–∏–º–æ—Å—Ç—å
- üí∞ Gemini API –¥–µ—à–µ–≤–ª–µ OpenAI DALL-E
- üí∞ –ù–µ—Ç –∑–∞—Ç—Ä–∞—Ç –Ω–∞ n8n workflow executions
- üí∞ –ú–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ API

### n8n Webhooks

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
POST https://n8n.performanteaiagency.com/webhook/offer
Content-Type: application/json

{
  "type": "offer",
  "prompt": "...",
  "id": "user_id"
}

# –û—Ç–≤–µ—Ç: –º–∞—Å—Å–∏–≤ —Å –≤—ã—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
[{"output": "–¢–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞"}]
```

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
POST https://n8n.performanteaiagency.com/webhook/genimage
Content-Type: multipart/form-data

action=generate_image
offer=...
bullets=...

# –û—Ç–≤–µ—Ç: binary (image/png)
```

### –ù–æ–≤—ã–π API

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
POST http://localhost:8085/generate-offer
Content-Type: application/json

{
  "user_id": "uuid",
  "prompt": "...",
  "existing_bullets": "..."
}

# –û—Ç–≤–µ—Ç: –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π JSON
{
  "success": true,
  "offer": "–¢–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞"
}
```

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
POST http://localhost:8085/generate-creative
Content-Type: application/json

{
  "user_id": "uuid",
  "offer": "...",
  "bullets": "...",
  "profits": "...",
  "cta": "..."
}

# –û—Ç–≤–µ—Ç: JSON —Å URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
{
  "success": true,
  "creative_id": "uuid",
  "image_url": "https://...supabase.co/.../image.png",
  "generations_remaining": 9
}
```

## –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. Google AI API –∫–ª—é—á

–ü–æ–ª—É—á–∏—Ç—å –Ω–∞ [Google AI Studio](https://aistudio.google.com/)

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Backend** (`.env`):
```bash
GEMINI_API_KEY=your_key
SUPABASE_URL=your_url
SUPABASE_SERVICE_KEY=your_key
PORT=8085
```

**Frontend** (`.env.development`):
```bash
VITE_CREATIVE_API_URL=http://localhost:8085
```

### 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

```bash
psql $DATABASE_URL -f migrations/032_create_generated_creatives.sql
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

```bash
cd services/creative-generation-service
npm install
npm run dev
```

## –ß–µ–∫-–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

### Backend
- [x] –°–æ–∑–¥–∞–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å `creative-generation-service`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Gemini API –∫–ª–∏–µ–Ω—Ç
- [x] –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤—Å–µ system prompts –∏–∑ n8n
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Supabase Storage
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Frontend
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `CreativeGeneration.tsx`
- [x] –ó–∞–º–µ–Ω–µ–Ω—ã webhooks –Ω–∞ –Ω–æ–≤—ã–π API
- [x] –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
- [x] –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [x] –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `generated_creatives`
- [x] RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [x] –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è updated_at

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] `SETUP_GOOGLE_AI.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API
- [x] `DEPLOYMENT.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- [x] `TESTING.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- [x] `README.md` - –æ–±–∑–æ—Ä —Å–µ—Ä–≤–∏—Å–∞
- [x] `Dockerfile` - –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript —É—Å–ø–µ—à–Ω–∞
- [x] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á)
- [ ] Integration —Ç–µ—Å—Ç—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- [ ] Production deployment

## –û—Ç–∫–∞—Ç (Rollback)

–ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ n8n:

1. –í `CreativeGeneration.tsx` –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
```typescript
const webhooks = {
  offer: 'https://n8n.performanteaiagency.com/webhook/offer',
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ webhooks
};
```

2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É –≤ `generateText()` –∏ `generateCreative()`

3. n8n workflow –æ—Å—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–æ–ª—É—á–∏—Ç—å Google AI API –∫–ª—é—á**
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env —Ñ–∞–π–ª—ã**
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ**
4. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ production**
5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å nginx reverse proxy**
6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
7. **–û—Ç–∫–ª—é—á–∏—Ç—å n8n workflow** (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞

```bash
# Development
npm run dev  # –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å

# Production (PM2)
pm2 logs creative-generation-service
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
curl http://localhost:8085/health
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–û—à–∏–±–∫–∞:** "GEMINI_API_KEY is required"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª

**–û—à–∏–±–∫–∞:** "Failed to upload image"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Supabase Storage bucket –∏ permissions

**–û—à–∏–±–∫–∞:** "No generations available"
**–†–µ—à–µ–Ω–∏–µ:** –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 15+
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~1500
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** 7 production, 3 dev
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ API:** 6
- **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** ~3 —á–∞—Å–∞
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ deployment

---

**–î–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:** 21 –Ω–æ—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ, –≥–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

