# üìπ –ó–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –ó–∞–¥–∞—á–∞

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫—Ä–µ–∞—Ç–∏–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞.

---

## UI: –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º —Å–ø–∏—Å–∫–æ–º:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ù–∞–∑–≤–∞–Ω–∏–µ *                            ‚îÇ
‚îÇ  [–ê–∫—Ü–∏—è –Ω–∞ –∏–º–ø–ª–∞–Ω—Ç–∞—Ü–∏—é          ]      ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ  –í–∏–¥–µ–æ *                               ‚îÇ
‚îÇ  [üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª] video.mp4           ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ  –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ *                         ‚îÇ
‚îÇ  [v] –ò–º–ø–ª–∞–Ω—Ç–∞—Ü–∏—è (WhatsApp)       ‚ñº    ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ  ‚ö†Ô∏è –ö—Ä–µ–∞—Ç–∏–≤ –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–∏ WhatsApp      ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ  [‚úì] –ê–∫—Ç–∏–≤–Ω—ã–π –∫—Ä–µ–∞—Ç–∏–≤                  ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ         [–û—Ç–º–µ–Ω–∞]  [–ó–∞–≥—Ä—É–∑–∏—Ç—å]          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ + –∫–Ω–æ–ø–∫—É —Å–æ–∑–¥–∞–Ω–∏—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                        ‚îÇ
‚îÇ  ‚ö†Ô∏è –£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π     ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ  –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫—Ä–µ–∞—Ç–∏–≤–∞ —Å–Ω–∞—á–∞–ª–∞         ‚îÇ
‚îÇ  —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞.         ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ     [+ –°–æ–∑–¥–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]            ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ            [–û—Ç–º–µ–Ω–∞]                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –õ–æ–≥–∏–∫–∞

### 1. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã –∑–∞–≥—Ä—É–∑–∫–∏:

```javascript
// –ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
const response = await fetch(`${API_URL}/api/directions?userAccountId=${userId}`);
const { directions } = await response.json();

// –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
const activeDirections = directions.filter(d => d.is_active === true);

if (activeDirections.length === 0) {
  // –ü–æ–∫–∞–∑–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 2: –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"
  showCreateDirectionPrompt();
} else {
  // –ü–æ–∫–∞–∑–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1: —Ñ–æ—Ä–º—É —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º —Å–ø–∏—Å–∫–æ–º
  showUploadForm(activeDirections);
}
```

### 2. –§–æ—Ä–º–∞—Ç –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞:

```javascript
// –§–æ—Ä–º–∞—Ç: "{name} ({objective})"
const options = activeDirections.map(d => ({
  value: d.id,
  label: `${d.name} (${getObjectiveLabel(d.objective)})`
}));

// –ü—Ä–∏–º–µ—Ä: "–ò–º–ø–ª–∞–Ω—Ç–∞—Ü–∏—è (WhatsApp)"
//         "–í–∏–Ω–∏—Ä—ã (Instagram Traffic)"
//         "–ë—Ä–µ–∫–µ—Ç—ã (Site Leads)"

function getObjectiveLabel(objective) {
  const labels = {
    'whatsapp': 'WhatsApp',
    'instagram_traffic': 'Instagram Traffic',
    'site_leads': 'Site Leads'
  };
  return labels[objective] || objective;
}
```

### 3. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```javascript
// –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ç–∏–ø–µ –∫–∞–º–ø–∞–Ω–∏–∏
const selectedDirection = activeDirections.find(d => d.id === selectedId);
const objectiveLabel = getObjectiveLabel(selectedDirection.objective);

showWarning(`‚ö†Ô∏è –ö—Ä–µ–∞—Ç–∏–≤ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–∏ —Ç–∏–ø–∞ ${objectiveLabel}`);
```

### 4. –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ":

```javascript
// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
function handleCreateDirection() {
  // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)
  saveFormDraft();
  
  // –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  router.push('/directions/create');
  
  // –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å—é–¥–∞
  // (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ query param: ?returnTo=/creatives/upload)
}
```

### 5. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫—Ä–µ–∞—Ç–∏–≤–∞:

```javascript
// –û—Ç–ø—Ä–∞–≤–∏—Ç—å direction_id –≤ API
const formData = new FormData();
formData.append('title', title);
formData.append('video', videoFile);
formData.append('direction_id', selectedDirectionId);  // ‚Üê –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!
formData.append('is_active', isActive);

const response = await fetch(`${API_URL}/api/video/upload`, {
  method: 'POST',
  body: formData
});
```

---

## API

### GET /api/directions

```javascript
GET /api/directions?userAccountId=YOUR_UUID

Response:
{
  "success": true,
  "directions": [
    {
      "id": "uuid-1",
      "name": "–ò–º–ø–ª–∞–Ω—Ç–∞—Ü–∏—è",
      "objective": "whatsapp",
      "is_active": true,
      ...
    },
    {
      "id": "uuid-2",
      "name": "–í–∏–Ω–∏—Ä—ã",
      "objective": "instagram_traffic",
      "is_active": false,  // ‚Üê –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Å–ø–∏—Å–∫–µ!
      ...
    }
  ]
}
```

**–í–∞–∂–Ω–æ:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å `is_active: true`!

---

## –í–∞–ª–∏–¥–∞—Ü–∏—è

- ‚ùå –ù–µ–ª—å–∑—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤ –±–µ–∑ –≤—ã–±–æ—Ä–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚ùå –ù–µ–ª—å–∑—è –≤—ã–±—Ä–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å" –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ
  - –í–∏–¥–µ–æ –≤—ã–±—Ä–∞–Ω–æ
  - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–æ

---

## –ü—Ä–∏–º–µ—Ä React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```jsx
import { useState, useEffect } from 'react';
import { useRouter } from 'next/router';

const UploadCreativeForm = ({ userAccountId }) => {
  const router = useRouter();
  const [directions, setDirections] = useState([]);
  const [selectedDirectionId, setSelectedDirectionId] = useState('');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    loadDirections();
  }, []);

  const loadDirections = async () => {
    const response = await fetch(
      `${process.env.NEXT_PUBLIC_API_URL}/api/directions?userAccountId=${userAccountId}`
    );
    const { directions } = await response.json();
    
    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
    const active = directions.filter(d => d.is_active);
    setDirections(active);
    setLoading(false);
  };

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;

  // –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
  if (directions.length === 0) {
    return (
      <div className="upload-form">
        <h2>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤</h2>
        <div className="warning">
          <p>‚ö†Ô∏è –£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π</p>
          <p>–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫—Ä–µ–∞—Ç–∏–≤–∞ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞.</p>
        </div>
        <button onClick={() => router.push('/directions/create')}>
          + –°–æ–∑–¥–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
        </button>
        <button onClick={() => router.back()}>–û—Ç–º–µ–Ω–∞</button>
      </div>
    );
  }

  // –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  return (
    <form onSubmit={handleSubmit}>
      <h2>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫—Ä–µ–∞—Ç–∏–≤</h2>
      
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
      <input type="text" required />
      
      <label>–í–∏–¥–µ–æ *</label>
      <input type="file" accept="video/*" required />
      
      <label>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ *</label>
      <select 
        value={selectedDirectionId} 
        onChange={(e) => setSelectedDirectionId(e.target.value)}
        required
      >
        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</option>
        {directions.map(d => (
          <option key={d.id} value={d.id}>
            {d.name} ({getObjectiveLabel(d.objective)})
          </option>
        ))}
      </select>
      
      {selectedDirectionId && (
        <div className="warning">
          ‚ö†Ô∏è –ö—Ä–µ–∞—Ç–∏–≤ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–∏ —Ç–∏–ø–∞{' '}
          {getObjectiveLabel(
            directions.find(d => d.id === selectedDirectionId)?.objective
          )}
        </div>
      )}
      
      <label>
        <input type="checkbox" defaultChecked />
        –ê–∫—Ç–∏–≤–Ω—ã–π –∫—Ä–µ–∞—Ç–∏–≤
      </label>
      
      <button type="button" onClick={() => router.back()}>–û—Ç–º–µ–Ω–∞</button>
      <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
    </form>
  );
};

function getObjectiveLabel(objective) {
  const labels = {
    'whatsapp': 'WhatsApp',
    'instagram_traffic': 'Instagram Traffic',
    'site_leads': 'Site Leads'
  };
  return labels[objective] || objective;
}

export default UploadCreativeForm;
```

---

## –†–µ–∑—é–º–µ

‚úÖ **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫—Ä–µ–∞—Ç–∏–≤–∞
‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ** –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (`is_active: true`)
‚úÖ **–ï—Å–ª–∏ –Ω–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π** ‚Üí –∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"
‚úÖ **–§–æ—Ä–º–∞—Ç —Å–ø–∏—Å–∫–∞:** "–ù–∞–∑–≤–∞–Ω–∏–µ (–¢–∏–ø –∫–∞–º–ø–∞–Ω–∏–∏)"
‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ** –æ —Ç–∏–ø–µ –∫–∞–º–ø–∞–Ω–∏–∏ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ

üéØ **–ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!**

