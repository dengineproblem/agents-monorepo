# üîÑ –°–¢–†–ê–¢–ï–ì–ò–Ø –†–ï–ê–ù–ò–ú–ê–¶–ò–ò –ö–ê–ú–ü–ê–ù–ò–ô

## üìã –û–ë–ó–û–†

–û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ Brain Agent –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–æ—Ö–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–∞–º–ø–∞–Ω–∏–π (`slightly_bad` / `bad`). –ù–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ù–û–í–û–ì–û –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞–¥ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö adsets.

---

## üéØ –î–í–ê –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê

### 1. **CreateCampaignWithCreative** (–ü–†–ò–û–†–ò–¢–ï–¢ 1)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∫–∞–º–ø–∞–Ω–∏—é —Å 1-3 unused –∫—Ä–µ–∞—Ç–∏–≤–∞–º–∏ –≤ –æ–¥–Ω–æ–º adset

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ï—Å–ª–∏ `scoring.unused_creatives` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Ç—è –±—ã 1 –∫—Ä–µ–∞—Ç–∏–≤

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚úÖ –°–≤–µ–∂–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è Facebook –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å 2-3 –∫—Ä–µ–∞—Ç–∏–≤–∞ —Å—Ä–∞–∑—É –≤ –æ–¥–Ω–æ–º adset
- ‚úÖ –°—Ç–∞—Ä—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –æ–±—É—á–µ–Ω–∏–µ –±–µ–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
```json
{
  "user_creative_id": "uuid",
  "objective": "WhatsApp",  // –∏–∑ recommended_objective
  "campaign_name": "–¢–µ—Å—Ç –Ω–æ–≤—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –æ–∫—Ç—è–±—Ä—å",
  "daily_budget_cents": 40000,  // $40/–¥–µ–Ω—å
  "use_default_settings": true,  // –∞–≤—Ç–æ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥
  "auto_activate": true  // —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫!
}
```

---

### 2. **Audience.DuplicateAdSetWithAudience** (–ü–†–ò–û–†–ò–¢–ï–¢ 2 - —Ñ–æ–ª–±—ç–∫)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –î—É–±–ª–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π adset —Å LAL 3% IG Engagers –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –¢–û–õ–¨–ö–û –µ—Å–ª–∏ `scoring.unused_creatives = []` –∏–ª–∏ `null`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- ‚úÖ –ú–∞–ª—ã–π –±—é–¥–∂–µ—Ç ($10/–¥–µ–Ω—å max)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é —Å —Ç–µ–º –∂–µ –∫—Ä–µ–∞—Ç–∏–≤–æ–º

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
```json
{
  "source_adset_id": "adset_id",
  "audience_id": "test_lal_ig_365d",
  "daily_budget": 1000,  // $10 max
  "name_suffix": "LAL3"
}
```

---

## üîÄ –õ–û–ì–ò–ö–ê –í–´–ë–û–†–ê (–í–ê–†–ò–ê–ù–¢ 1)

```
–ü–†–ò –ü–õ–û–•–ò–• –†–ï–ó–£–õ–¨–¢–ê–¢–ê–• (slightly_bad / bad):

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å scoring.unused_creatives:
   
   ‚îú‚îÄ unused_creatives.length ‚â• 3?
   ‚îÇ  ‚îî‚îÄ CreateCampaignWithCreative √ó 3 (–¢–û–ü-3 –∫—Ä–µ–∞—Ç–∏–≤–∞)
   ‚îÇ     campaign_name = –û–î–ò–ù–ê–ö–û–í–´–ô –¥–ª—è –≤—Å–µ—Ö 3
   ‚îÇ     ‚Üí –ü–æ–ø–∞–¥—É—Ç –≤ –û–î–ò–ù adset –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ ads
   ‚îÇ
   ‚îú‚îÄ unused_creatives.length = 2?
   ‚îÇ  ‚îî‚îÄ CreateCampaignWithCreative √ó 2
   ‚îÇ     campaign_name = –û–î–ò–ù–ê–ö–û–í–´–ô –¥–ª—è –æ–±–æ–∏—Ö
   ‚îÇ
   ‚îú‚îÄ unused_creatives.length = 1?
   ‚îÇ  ‚îî‚îÄ CreateCampaignWithCreative √ó 1
   ‚îÇ
   ‚îî‚îÄ unused_creatives.length = 0 –∏–ª–∏ null?
      ‚îî‚îÄ Audience.DuplicateAdSetWithAudience (—Ñ–æ–ª–±—ç–∫ –Ω–∞ LAL)
```

---

## üìä –ú–ê–¢–†–ò–¶–ê –î–ï–ô–°–¢–í–ò–ô

### slightly_bad (HS: -25..-6)

| –£—Å–ª–æ–≤–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ 1 | –î–µ–π—Å—Ç–≤–∏–µ 2 |
|---------|-----------|-----------|
| unused_creatives ‚â• 1 | –°–Ω–∏–∑–∏—Ç—å –±—é–¥–∂–µ—Ç -20..-50% | CreateCampaignWithCreative (–Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç) |
| unused_creatives = 0 | –°–Ω–∏–∑–∏—Ç—å –±—é–¥–∂–µ—Ç -20..-50% | Audience.DuplicateAdSetWithAudience (LAL) |

### bad (HS: ‚â§ -25)

| –£—Å–ª–æ–≤–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ 1 | –î–µ–π—Å—Ç–≤–∏–µ 2 | –î–µ–π—Å—Ç–≤–∏–µ 3 |
|---------|-----------|-----------|-----------|
| –ù–µ—Å–∫–æ–ª—å–∫–æ adsets | –ù–∞–π—Ç–∏ adset-–ø–æ–∂–∏—Ä–∞—Ç–µ–ª—å | PauseAdSet(–ø–æ–∂–∏—Ä–∞—Ç–µ–ª—å) | - |
| 1 adset + unused ‚â• 1 | –°–Ω–∏–∑–∏—Ç—å –±—é–¥–∂–µ—Ç -50% | PauseAd(–ø–æ–∂–∏—Ä–∞—Ç–µ–ª—å ad) | CreateCampaignWithCreative |
| 1 adset + unused = 0 | –°–Ω–∏–∑–∏—Ç—å –±—é–¥–∂–µ—Ç -50% | PauseAd(–ø–æ–∂–∏—Ä–∞—Ç–µ–ª—å ad) | Audience.DuplicateAdSetWithAudience |

---

## üí° –ö–õ–Æ–ß–ï–í–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ü–†–û–ú–ü–¢–ï

### 1. –°–µ–∫—Ü–∏—è "–ú–ê–¢–†–ò–¶–ê –î–ï–ô–°–¢–í–ò–ô"

**–î–û:**
```
- bad: –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ ad set –∏–ª–∏ ¬´—Ä–µ–∞–Ω–∏–º–∞—Ü–∏—è¬ª: 
       –¥—É–±–ª—å —Å –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
```

**–ü–û–°–õ–ï:**
```
- bad: (1) –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ adsets ‚Üí –Ω–∞–π–¥–∏ –∏ –≤—ã–∫–ª—é—á–∏ adset-–ø–æ–∂–∏—Ä–∞—Ç–µ–ª—å
       (2) –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–∂–∏—Ä–∞—Ç–µ–ª—è –ò–õ–ò —Ç–æ–ª—å–∫–æ 1 ad –≤–Ω—É—Ç—Ä–∏ 
           ‚Üí –í–ú–ï–°–¢–û –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å unused_creatives 
           –∏ —Å–æ–∑–¥–∞–π –Ω–æ–≤—É—é –∫–∞–º–ø–∞–Ω–∏—é —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫—Ä–µ–∞—Ç–∏–≤–∞–º–∏
```

---

### 2. –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "–°–¢–†–ê–¢–ï–ì–ò–Ø –†–ï–ê–ù–ò–ú–ê–¶–ò–ò"

```
üéØ –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ù–û–í–´–ô –ö–û–ù–¢–ï–ù–¢ (–µ—Å–ª–∏ –µ—Å—Ç—å unused_creatives)
- –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π –ø–æ–ª–µ scoring.unused_creatives –ü–ï–†–ï–î –ª—é–±—ã–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º!
- –ï—Å–ª–∏ unused_creatives.length ‚â• 3: —Å–æ–∑–¥–∞–π –∫–∞–º–ø–∞–Ω–∏—é —Å –¢–û–ü-3 –∫—Ä–µ–∞—Ç–∏–≤–∞–º–∏
- –ï—Å–ª–∏ unused_creatives.length = 2: —Å–æ–∑–¥–∞–π –∫–∞–º–ø–∞–Ω–∏—é —Å –æ–±–æ–∏–º–∏ –∫—Ä–µ–∞—Ç–∏–≤–∞–º–∏
- –ï—Å–ª–∏ unused_creatives.length = 1: —Å–æ–∑–¥–∞–π –∫–∞–º–ø–∞–Ω–∏—é —Å –æ–¥–Ω–∏–º –∫—Ä–µ–∞—Ç–∏–≤–æ–º
- –í–°–ï –∫—Ä–µ–∞—Ç–∏–≤—ã –∏–¥—É—Ç –≤ –û–î–ò–ù adset
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: auto_activate=true, daily_budget_cents=30000-50000

üéØ –ü–†–ò–û–†–ò–¢–ï–¢ 2: LAL –î–£–ë–õ–¨ (–µ—Å–ª–∏ unused_creatives –ø—É—Å—Ç–æ)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ scoring.unused_creatives = [] –ò–õ–ò null
- –£—Å–ª–æ–≤–∏—è: HS ‚â§ -6, CPL_ratio ‚â• 2.0, impressions ‚â• 1000
- –≠–∫—à–µ–Ω: Audience.DuplicateAdSetWithAudience
```

---

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ CreateCampaignWithCreative

```
–ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ô –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–µ–∞–Ω–∏–º–∞—Ü–∏–∏!

–î–õ–Ø –ù–ï–°–ö–û–õ–¨–ö–ò–• –ö–†–ï–ê–¢–ò–í–û–í –í –û–î–ù–û–ú ADSET: 
–≤—ã–∑–æ–≤–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ù–ï–°–ö–û–õ–¨–ö–û –†–ê–ó —Å –û–î–ò–ù–ê–ö–û–í–´–ú campaign_name 
‚Äî –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥—É—Ç –≤ –æ–¥–∏–Ω adset –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ ads.

–ö–û–ì–î–ê: 
(1) –í–°–ï–ì–î–ê –µ—Å–ª–∏ –µ—Å—Ç—å unused_creatives –ø—Ä–∏ slightly_bad/bad
(2) –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ —Ç–µ–∫—É—â–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ –≤ –æ–±—É—á–µ–Ω–∏–∏
```

---

## üìù –ü–†–ò–ú–ï–†–´

### –ü—Ä–∏–º–µ—Ä 1: 3 –∫—Ä–µ–∞—Ç–∏–≤–∞ –≤ –æ–¥–Ω–æ–º adset

**–°–∏—Ç—É–∞—Ü–∏—è:**
- HS = bad (-30)
- unused_creatives.length = 3

**–†–µ—à–µ–Ω–∏–µ Brain Agent:**
```json
{
  "planNote": "HS bad, unused_creatives=3. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∫–∞–º–ø–∞–Ω–∏—é —Å 3 –∫—Ä–µ–∞—Ç–∏–≤–∞–º–∏ –≤ –æ–¥–Ω–æ–º adset –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.",
  "actions": [
    {
      "type": "CreateCampaignWithCreative",
      "params": {
        "user_creative_id": "uuid-1",
        "objective": "WhatsApp",
        "campaign_name": "–¢–µ—Å—Ç –Ω–æ–≤—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –æ–∫—Ç—è–±—Ä—å",
        "daily_budget_cents": 40000,
        "use_default_settings": true,
        "auto_activate": true
      }
    },
    {
      "type": "CreateCampaignWithCreative",
      "params": {
        "user_creative_id": "uuid-2",
        "objective": "WhatsApp",
        "campaign_name": "–¢–µ—Å—Ç –Ω–æ–≤—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –æ–∫—Ç—è–±—Ä—å",  // –¢–û–¢ –ñ–ï NAME!
        "daily_budget_cents": 40000,
        "use_default_settings": true,
        "auto_activate": true
      }
    },
    {
      "type": "CreateCampaignWithCreative",
      "params": {
        "user_creative_id": "uuid-3",
        "objective": "WhatsApp",
        "campaign_name": "–¢–µ—Å—Ç –Ω–æ–≤—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –æ–∫—Ç—è–±—Ä—å",  // –¢–û–¢ –ñ–ï NAME!
        "daily_budget_cents": 40000,
        "use_default_settings": true,
        "auto_activate": true
      }
    }
  ]
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è 1 –∫–∞–º–ø–∞–Ω–∏—è: "–¢–µ—Å—Ç –Ω–æ–≤—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –æ–∫—Ç—è–±—Ä—å"
- –í –Ω–µ–π 1 adset —Å 3 ads (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–∞–∂–¥—ã–π –∫—Ä–µ–∞—Ç–∏–≤)
- –ë—é–¥–∂–µ—Ç $40/–¥–µ–Ω—å
- –ó–∞–ø—É—Å–∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π (auto_activate=true)

---

### –ü—Ä–∏–º–µ—Ä 2: –§–æ–ª–±—ç–∫ –Ω–∞ LAL –¥—É–±–ª—å

**–°–∏—Ç—É–∞—Ü–∏—è:**
- HS = bad (-30)
- unused_creatives.length = 0

**–†–µ—à–µ–Ω–∏–µ Brain Agent:**
```json
{
  "planNote": "HS bad, unused_creatives=[]. –§–æ–ª–±—ç–∫: LAL –¥—É–±–ª—å —Ç.–∫. –Ω–µ—Ç –Ω–æ–≤—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤.",
  "actions": [
    {
      "type": "GetCampaignStatus",
      "params": { "campaign_id": "camp_123" }
    },
    {
      "type": "Audience.DuplicateAdSetWithAudience",
      "params": {
        "source_adset_id": "adset_456",
        "audience_id": "test_lal_ig_365d",
        "daily_budget": 1000,
        "name_suffix": "LAL3"
      }
    }
  ]
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è –¥—É–±–ª—å adset —Å LAL 3% –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π
- –ë—é–¥–∂–µ—Ç $10/–¥–µ–Ω—å
- –ö—Ä–µ–∞—Ç–∏–≤ –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ—Ç –∂–µ

---

## üîç –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢ –í AGENT-SERVICE

### Workflow CreateCampaignWithCreative

**–§–∞–π–ª:** `services/agent-service/src/workflows/createCampaignWithCreative.ts`

**–õ–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∞–µ—Ç `user_creative_id` –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫—Ä–µ–∞—Ç–∏–≤ –∏–∑ `user_creatives`
3. –°–æ–∑–¥–∞–µ—Ç Campaign (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º)
4. –°–æ–∑–¥–∞–µ—Ç AdSet (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–∑ —Ç–æ–π –∂–µ –∫–∞–º–ø–∞–Ω–∏–∏)
5. –°–æ–∑–¥–∞–µ—Ç Ad —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫—Ä–µ–∞—Ç–∏–≤–æ–º
6. –°—Ç–∞—Ç—É—Å = `ACTIVE` –µ—Å–ª–∏ `auto_activate=true`, –∏–Ω–∞—á–µ `PAUSED`

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤:**
- –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º `campaign_name`
- –í—Å–µ ads –ø–æ–ø–∞–¥—É—Ç –≤ –û–î–ò–ù adset
- Facebook –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±—é–¥–∂–µ—Ç –º–µ–∂–¥—É ads

---

## ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ô –°–¢–†–ê–¢–ï–ì–ò–ò

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–æ–≤–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É**
   - –°—Ç–∞—Ä—ã–µ –∫—Ä–µ–∞—Ç–∏–≤—ã –º–æ–≥–ª–∏ –≤—ã–≥–æ—Ä–µ—Ç—å
   - –ù–æ–≤—ã–µ –∫—Ä–µ–∞—Ç–∏–≤—ã = —Å–≤–µ–∂–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

2. **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**
   - 2-3 –∫—Ä–µ–∞—Ç–∏–≤–∞ –≤ –æ–¥–Ω–æ–º adset = —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —á–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
   - Facebook —Å–∞–º –≤—ã–±–µ—Ä–µ—Ç –ª—É—á—à–∏–π –∫—Ä–µ–∞—Ç–∏–≤

3. **–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π**
   - –ù–µ –¥—É–±–ª–∏—Ä—É–µ–º ‚Üí –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –æ–±—É—á–µ–Ω–∏–µ
   - –°—Ç–∞—Ä—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ —É—á–∏—Ç—å—Å—è

4. **–ò–∑–±–µ–∂–∞–Ω–∏–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏**
   - –ù–æ–≤–∞—è –∫–∞–º–ø–∞–Ω–∏—è –Ω–µ –∫–æ–Ω–∫—É—Ä–∏—Ä—É–µ—Ç —Å–æ —Å—Ç–∞—Ä–æ–π –∑–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—é
   - –†–∞–∑–Ω—ã–µ –∫—Ä–µ–∞—Ç–∏–≤—ã ‚Üí —Ä–∞–∑–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã

5. **–§–æ–ª–±—ç–∫ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥**
   - –ï—Å–ª–∏ –Ω–µ—Ç unused –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ ‚Üí LAL –¥—É–±–ª—å
   - –ù–µ —Ç–µ—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–Ω–∏–º–∞—Ü–∏–∏

---

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

1. ‚úÖ `services/agent-brain/src/server.js`
   - –°–µ–∫—Ü–∏—è "–ú–ê–¢–†–ò–¶–ê –î–ï–ô–°–¢–í–ò–ô"
   - –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "–°–¢–†–ê–¢–ï–ì–ò–Ø –†–ï–ê–ù–ò–ú–ê–¶–ò–ò"
   - –û–ø–∏—Å–∞–Ω–∏–µ CreateCampaignWithCreative
   - –ü–†–ò–ú–ï–† 3 –∏ –ü–†–ò–ú–ï–† 4

2. ‚úÖ `services/agent-brain/src/scoring.js`
   - –§—É–Ω–∫—Ü–∏—è `getActiveCreativeIds()`
   - –õ–æ–≥–∏–∫–∞ `unused_creatives`

3. ‚úÖ `services/agent-service/src/workflows/createCampaignWithCreative.ts`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `auto_activate`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `use_default_settings`

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å unused_creatives –≤ Scoring Agent

```bash
curl -X POST http://localhost:7080/api/brain/test-scoring \
  -H "Content-Type: application/json" \
  -d '{"userAccountId": "user-uuid"}' \
  | jq '.scoring.unused_creatives'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
[
  {
    "id": "creative-uuid",
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–µ–∞—Ç–∏–≤–∞",
    "recommended_objective": "WhatsApp",
    "created_at": "2025-10-05T..."
  }
]
```

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Brain Agent —Å unused –∫—Ä–µ–∞—Ç–∏–≤–∞–º–∏

```bash
curl -X POST http://localhost:7080/api/brain/run \
  -H "Content-Type: application/json" \
  -d '{
    "userAccountId": "user-uuid",
    "dispatch": false
  }'
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ actions:**
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ `CreateCampaignWithCreative` —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º `campaign_name`
- `auto_activate: true`
- `use_default_settings: true`

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ–ª–±—ç–∫ (–µ—Å–ª–∏ unused = [])

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- `Audience.DuplicateAdSetWithAudience` –≤ actions
- –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ reportText –ø—Ä–æ LAL –∞—É–¥–∏—Ç–æ—Ä–∏—é

---

## üéì FAQ

### Q: –ß—Ç–æ –µ—Å–ª–∏ —É –º–µ–Ω—è 5 unused –∫—Ä–µ–∞—Ç–∏–≤–æ–≤?
**A:** Brain Agent –≤—ã–±–µ—Ä–µ—Ç –¢–û–ü-3 (–ø–µ—Ä–≤—ã–µ 3 –∏–∑ —Å–ø–∏—Å–∫–∞).

### Q: –ú–æ–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–∞—Ç–∏–≤–∞?
**A:** –ù–µ—Ç, –Ω–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç –û–î–ò–ù adset —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ ads. –≠—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.

### Q: –ß—Ç–æ –µ—Å–ª–∏ —è —Ö–æ—á—É –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ 1 –∫—Ä–µ–∞—Ç–∏–≤?
**A:** –ù–æ—Ä–º–∞–ª—å–Ω–æ! –ï—Å–ª–∏ `unused_creatives.length = 1`, —Å–æ–∑–¥–∞—Å—Ç—Å—è –∫–∞–º–ø–∞–Ω–∏—è —Å 1 –∫—Ä–µ–∞—Ç–∏–≤–æ–º.

### Q: LAL –¥—É–±–ª—å –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?
**A:** –î–∞, –∫–∞–∫ –§–û–õ–ë–≠–ö –µ—Å–ª–∏ –Ω–µ—Ç unused –∫—Ä–µ–∞—Ç–∏–≤–æ–≤.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Ç—å –º–µ–∂–¥—É CreateCampaign –∏ LAL –¥—É–±–ª–µ–º?
**A:** –ù–µ—Ç, Brain Agent –≤—ã–±–∏—Ä–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (unused –∫—Ä–µ–∞—Ç–∏–≤—ã ‚Üí LAL).

---

## üìÖ CHANGELOG

### v2.1 (2025-10-05)

#### ‚ú® –ù–æ–≤–æ–µ:
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è CreateCampaignWithCreative –Ω–∞–¥ Audience.DuplicateAdSetWithAudience
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –≤ –æ–¥–Ω–æ–º adset
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è "–°–¢–†–ê–¢–ï–ì–ò–Ø –†–ï–ê–ù–ò–ú–ê–¶–ò–ò" –≤ –ø—Ä–æ–º–ø—Ç–µ
- –ù–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ü–†–ò–ú–ï–† 3 –∏ –ü–†–ò–ú–ï–† 4

#### üîÑ –ò–∑–º–µ–Ω–µ–Ω–æ:
- –ú–∞—Ç—Ä–∏—Ü–∞ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è slightly_bad/bad
- –û–ø–∏—Å–∞–Ω–∏–µ action CreateCampaignWithCreative
- –õ–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è unused_creatives

#### üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ:
- –°—Ç–∞—Ä–∞—è —Å–µ–∫—Ü–∏—è "–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô –ò–ù–°–¢–†–£–ú–ï–ù–¢: –î–£–ë–õ–¨ –ù–ê –¢–Å–ü–õ–£–Æ –ê–£–î–ò–¢–û–†–ò–Æ"

---

üìÖ **–î–∞—Ç–∞:** 5 –æ–∫—Ç—è–±—Ä—è 2025  
üîß **–í–µ—Ä—Å–∏—è:** 2.1  
‚úÖ **–°—Ç–∞—Ç—É—Å:** Implemented & Documented
