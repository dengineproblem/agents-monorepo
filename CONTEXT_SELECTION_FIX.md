# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤—ã–±–æ—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º:** –í—Å–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–æ–±—ã—á–Ω–æ –ø–µ—Ä–≤—ã–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É), –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

**–ü—Ä–∏–º–µ—Ä:**
```
–ö–æ–Ω—Ç–µ–∫—Å—Ç 1 (priority: 10): "–ö–µ–π—Å –ø—Ä–æ —Ü–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω"
–ö–æ–Ω—Ç–µ–∫—Å—Ç 2 (priority: 5): "–ê–∫—Ü–∏—è –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ä–µ–∫–ª–∞–º—ã"
–ö–æ–Ω—Ç–µ–∫—Å—Ç 3 (priority: 3): "–ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è –æ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–µ"

–†–µ–∑—É–ª—å—Ç–∞—Ç: –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç "–ö–µ–π—Å –ø—Ä–æ —Ü–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω"
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

### –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è):

1. ‚úÖ `getActiveContexts()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
2. ‚úÖ `boostStrategyForContext()` –≤—ã–±–∏—Ä–∞–µ—Ç –û–î–ò–ù –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
3. ‚ùå **–í –ø—Ä–æ–º–ø—Ç –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å –í–°–ï –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã** (`activeContexts`)
4. ‚ùå GPT –≤–∏–¥–µ–ª –≤—Å–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏ –≤—ã–±–∏—Ä–∞–ª —Å–∞–º (–æ–±—ã—á–Ω–æ –ø–µ—Ä–≤—ã–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)
5. ‚ùå `selectedContext` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```typescript
// messageGenerator.ts (—Å—Ç—Ä–æ–∫–∞ 208)
const prompt = buildMessagePrompt({
  lead,
  strategyType,
  messageType,
  businessContext: businessContext || '',
  activeContexts,  // ‚ùå –ü–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å –í–°–ï –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
  templates: relevantTemplates,
  daysSinceLastCampaign
});
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è):

1. ‚úÖ `getActiveContexts()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
2. ‚úÖ `boostStrategyForContext()` –≤—ã–±–∏—Ä–∞–µ—Ç –û–î–ò–ù –∫–æ–Ω—Ç–µ–∫—Å—Ç
3. ‚úÖ **–í –ø—Ä–æ–º–ø—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –¢–û–õ–¨–ö–û –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**
4. ‚úÖ GPT –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ
5. ‚úÖ –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ: —Ä–∞–∑–Ω—ã–µ –ª–∏–¥—ã –ø–æ–ª—É—á–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã

### –ö–æ–¥ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```typescript
// messageGenerator.ts (—Å—Ç—Ä–æ–∫–∏ 208-216)
// Pass only the selected context to the prompt, not all contexts
const contextsForPrompt = selectedContext ? [selectedContext] : [];

const prompt = buildMessagePrompt({
  lead,
  strategyType,
  messageType,
  businessContext: businessContext || '',
  activeContexts: contextsForPrompt,  // ‚úÖ –¢–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
  templates: relevantTemplates,
  daysSinceLastCampaign
});
```

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç:

**–ë—ã–ª–æ:**
```
–ü–†–ê–í–ò–õ–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –ö–û–ù–¢–ï–ö–°–¢–ê:
1. –í—ã–±–µ—Ä–∏ –ù–ï –ë–û–õ–ï–ï –û–î–ù–û–ì–û –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç —ç—Ç–æ–º—É –ª–∏–¥—É
2. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –±–µ–∑ –Ω–∞–≤—è–∑—á–∏–≤–æ—Å—Ç–∏
...
```

**–°—Ç–∞–ª–æ:**
```
–ü–†–ê–í–ò–õ–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –ö–û–ù–¢–ï–ö–°–¢–ê:
1. –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –£–ñ–ï –í–´–ë–†–ê–ù —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –ª–∏–¥–∞ - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏ –µ–≥–æ —Å—É—Ç—å
3. üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –í–∫–ª—é—á–∞–π –í–°–ï –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –î–û–°–õ–û–í–ù–û
...
```

## üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (`getActiveContexts`)

```typescript
// –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ:
- is_active = true
- start_date <= now
- end_date >= now OR end_date IS NULL
- target_funnel_stages (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
- target_interest_levels (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
```

### 2. –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (`boostStrategyForContext`)

```typescript
// –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ priority (DESC)
const topContext = sortedContexts[0];

// –ú–∞–ø–ø–∏–Ω–≥ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é:
promo    ‚Üí offer
case     ‚Üí case
content  ‚Üí value
news     ‚Üí value
```

### 3. –ü–µ—Ä–µ–¥–∞—á–∞ –≤ –ø—Ä–æ–º–ø—Ç

```typescript
// –¢–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
const contextsForPrompt = selectedContext ? [selectedContext] : [];
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–õ–∏–¥ 1 (hot, new_lead):     –ö–æ–Ω—Ç–µ–∫—Å—Ç A (priority 10)
–õ–∏–¥ 2 (warm, qualified):   –ö–æ–Ω—Ç–µ–∫—Å—Ç A (priority 10)
–õ–∏–¥ 3 (cold, new_lead):    –ö–æ–Ω—Ç–µ–∫—Å—Ç A (priority 10)
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–õ–∏–¥ 1 (hot, new_lead):     –ö–æ–Ω—Ç–µ–∫—Å—Ç A (priority 10, type: promo)
–õ–∏–¥ 2 (warm, qualified):   –ö–æ–Ω—Ç–µ–∫—Å—Ç B (priority 8, type: case)
–õ–∏–¥ 3 (cold, new_lead):    –ö–æ–Ω—Ç–µ–∫—Å—Ç C (priority 5, type: value)
```

–†–∞–∑–Ω—ã–µ –ª–∏–¥—ã –ø–æ–ª—É—á–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç:
- –¢–∏–ø–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (promo/case/content/news)
- –¶–µ–ª–µ–≤—ã—Ö —ç—Ç–∞–ø–æ–≤ –≤–æ—Ä–æ–Ω–∫–∏
- –¶–µ–ª–µ–≤—ã—Ö —É—Ä–æ–≤–Ω–µ–π –∏–Ω—Ç–µ—Ä–µ—Å–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

## üîß –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`services/chatbot-service/src/lib/messageGenerator.ts`**
   - –°—Ç—Ä–æ–∫–∏ 208-219: –ü–µ—Ä–µ–¥–∞—á–∞ —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

2. **`services/chatbot-service/src/lib/promptBuilder.ts`**
   - –°—Ç—Ä–æ–∫–∏ 111-123: –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è GPT

## üìù –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: Promo –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è hot –ª–∏–¥–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
```json
{
  "type": "promo",
  "title": "–°–∫–∏–¥–∫–∞ 20% –Ω–∞ –ø–µ—Ä–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É",
  "priority": 10,
  "target_interest_levels": ["hot"],
  "content": "–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: —Å–∫–∏–¥–∫–∞ 20% –Ω–∞ –ø–µ—Ä–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ä–µ–∫–ª–∞–º—ã..."
}
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** `offer` (–∏–∑-–∑–∞ —Ç–∏–ø–∞ `promo`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Hot –ª–∏–¥—ã –ø–æ–ª—É—á–∞—é—Ç —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –ø—Ä—è–º—ã–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º

### –ü—Ä–∏–º–µ—Ä 2: Case –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è warm –ª–∏–¥–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
```json
{
  "type": "case",
  "title": "–ö–µ–π—Å: –¶–≤–µ—Ç–æ—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω +40% –∑–∞—è–≤–æ–∫",
  "priority": 8,
  "target_interest_levels": ["warm"],
  "content": "–¶–≤–µ—Ç–æ—á–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É –∑–∞ 30 –¥–Ω–µ–π —É–≤–µ–ª–∏—á–∏–ª–∏ –∑–∞—è–≤–∫–∏ –Ω–∞ 40%..."
}
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** `case` (–∏–∑-–∑–∞ —Ç–∏–ø–∞ `case`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Warm –ª–∏–¥—ã –ø–æ–ª—É—á–∞—é—Ç –∫–µ–π—Å –¥–ª—è –ø—Ä–æ–≥—Ä–µ–≤–∞

### –ü—Ä–∏–º–µ—Ä 3: Value –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è cold –ª–∏–¥–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
```json
{
  "type": "content",
  "title": "5 –æ—à–∏–±–æ–∫ –≤ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–µ",
  "priority": 5,
  "target_interest_levels": ["cold"],
  "content": "–ü–æ–ª–µ–∑–Ω–∞—è —Å—Ç–∞—Ç—å—è –æ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö..."
}
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** `value` (–∏–∑-–∑–∞ —Ç–∏–ø–∞ `content`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Cold –ª–∏–¥—ã –ø–æ–ª—É—á–∞—é—Ç –ø–æ–ª–µ–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ –ø—Ä–æ–¥–∞–∂–∏

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```bash
docker logs agents-monorepo-chatbot-service-1 --tail 100 | grep "Strategy boosted"
```

–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ª–∏–¥–æ–≤:
```
Strategy boosted by active context: contextType=promo, contextTitle=–°–∫–∏–¥–∫–∞ 20%
Strategy boosted by active context: contextType=case, contextTitle=–ö–µ–π—Å –ø—Ä–æ —Ü–≤–µ—Ç—ã
Strategy boosted by active context: contextType=content, contextTitle=–°—Ç–∞—Ç—å—è
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
```bash
# –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–∑–Ω—ã–µ –ª–∏–¥—ã –ø–æ–ª—É—á–∏–ª–∏ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç usage_count:
```sql
SELECT title, usage_count 
FROM campaign_contexts 
WHERE user_account_id = '...' 
ORDER BY usage_count DESC;
```

–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —á—Ç–æ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ (—Å —É—á—ë—Ç–æ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∏ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∞).

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

–ß—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

1. **Priority** (1-10): –í—ã—à–µ = —á–∞—â–µ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è
2. **Target funnel stages**: –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —ç—Ç–∞–ø–∞–º–∏ –≤–æ—Ä–æ–Ω–∫–∏
3. **Target interest levels**: –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —É—Ä–æ–≤–Ω—è–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞
4. **Start/End dates**: –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
```
–ö–æ–Ω—Ç–µ–∫—Å—Ç A (promo, priority 10, hot):     –î–ª—è –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤
–ö–æ–Ω—Ç–µ–∫—Å—Ç B (case, priority 8, warm):      –î–ª—è —Ç—ë–ø–ª—ã—Ö –ª–∏–¥–æ–≤
–ö–æ–Ω—Ç–µ–∫—Å—Ç C (value, priority 5, cold):     –î–ª—è —Ö–æ–ª–æ–¥–Ω—ã—Ö –ª–∏–¥–æ–≤
–ö–æ–Ω—Ç–µ–∫—Å—Ç D (promo, priority 3, all):      –ó–∞–ø–∞—Å–Ω–æ–π –¥–ª—è –≤—Å–µ—Ö
```

## üöÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

1. ‚úÖ –ö–æ–¥ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
2. ‚úÖ –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
3. ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—É—é –æ—á–µ—Ä–µ–¥—å: `–û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å`
2. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é: `–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `CAMPAIGN_AUTOMATION_FLOW.md` - –æ–±—â–∞—è –ª–æ–≥–∏–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π
- `services/chatbot-service/src/lib/contextManager.ts` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏
- `services/chatbot-service/src/lib/strategySelector.ts` - –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

