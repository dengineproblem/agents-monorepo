# –†–µ–∑—é–º–µ: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ AI-—Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥ v2

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- **–ë—ã–ª–æ**: 9 —à–∞–≥–æ–≤ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **–°—Ç–∞–ª–æ**: 5 —à–∞–≥–æ–≤ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- Facebook –∞–∫–∫–∞—É–Ω—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Profile)
- –î–Ω–µ–≤–Ω–æ–π –±—é–¥–∂–µ—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Directions)  
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Directions)
- –ü–ª–∞–Ω –ø—Ä–æ–¥–∞–∂ –∏ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Directions)
- –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ –≤–æ—Ä–æ–Ω–∫–∏ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ Directions)

### –ù–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- ‚úÖ –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- ‚úÖ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è —Ä–∞–±–æ—Ç—ã
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —É—Å–ª—É–≥–∏/–ø—Ä–æ–¥—É–∫—Ç—ã
- ‚úÖ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –¶–µ–Ω–æ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç (—ç–∫–æ–Ω–æ–º/—Å—Ä–µ–¥–Ω–∏–π/–ø—Ä–µ–º–∏—É–º)

## üóÇÔ∏è –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend
- `migrations/031_create_user_briefing_responses.sql` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
- `services/agent-service/src/lib/openaiPromptGenerator.ts` - —É–ø—Ä–æ—â–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–æ–≤—ã–µ –ø–æ–ª—è
- `services/agent-service/src/routes/briefingRoutes.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### Frontend
- `services/frontend/src/components/onboarding/OnboardingWizard.tsx` - 5 —à–∞–≥–æ–≤ –≤–º–µ—Å—Ç–æ 9
- `services/frontend/src/components/onboarding/Step1BusinessInfo.tsx` - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `services/frontend/src/components/onboarding/Step2OnlinePresence.tsx` - –Ω–æ–≤—ã–π (Instagram + —Å–∞–π—Ç)
- `services/frontend/src/components/onboarding/Step3TargetAudience.tsx` - –Ω–æ–≤—ã–π (–¶–ê + –≥–µ–æ–≥—Ä–∞—Ñ–∏—è)
- `services/frontend/src/components/onboarding/Step4ProductInfo.tsx` - –Ω–æ–≤—ã–π (—É—Å–ª—É–≥–∏ + –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞)
- `services/frontend/src/components/onboarding/Step5Completion.tsx` - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∏–∑ Step9
- `services/frontend/src/services/briefingApi.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `services/frontend/src/integrations/supabase/types.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ~~Step2Instagram.tsx~~
- ~~Step3FacebookAccount.tsx~~
- ~~Step4Budget.tsx~~
- ~~Step5Directions.tsx~~
- ~~Step6Economics.tsx~~
- ~~Step7Conversion.tsx~~
- ~~Step8Additional.tsx~~

## üìä –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

```sql
CREATE TABLE user_briefing_responses (
    id UUID PRIMARY KEY,
    user_id UUID UNIQUE REFERENCES user_accounts(id),
    
    business_name TEXT NOT NULL,
    business_niche TEXT NOT NULL,
    
    instagram_url TEXT,
    website_url TEXT,
    
    target_audience TEXT,
    geography TEXT,
    
    main_services TEXT,
    competitive_advantages TEXT,
    price_segment TEXT,
    
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

## üöÄ –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

‚úÖ Backend —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
‚úÖ Frontend —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
‚úÖ –°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
‚è≥ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î - –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

–í—ã–ø–æ–ª–Ω–∏—Ç—å –≤ Supabase SQL Editor:

```sql
-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ migrations/031_create_user_briefing_responses.sql
```

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å `prompt1 = NULL`:
```sql
INSERT INTO user_accounts (username, password, access_token, ad_account_id, page_id, prompt1)
VALUES ('test_onboarding_v2', 'test123', 'test_token', 'act_123', '123456', NULL);
```

2. –í–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `https://app.performanteaiagency.com/login`
   - –õ–æ–≥–∏–Ω: `test_onboarding_v2`
   - –ü–∞—Ä–æ–ª—å: `test123`

3. –ü—Ä–æ–π—Ç–∏ 5 —à–∞–≥–æ–≤ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –±—Ä–∏—Ñ
SELECT * FROM user_briefing_responses 
WHERE user_id = (SELECT id FROM user_accounts WHERE username = 'test_onboarding_v2');

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
SELECT username, LENGTH(prompt1) as prompt_length, LEFT(prompt1, 200) as prompt_preview
FROM user_accounts 
WHERE username = 'test_onboarding_v2';
```

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ v2

1. **–ë—ã—Å—Ç—Ä–µ–µ** - –º–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ (5 vs 9 —à–∞–≥–æ–≤)
2. **–ü—Ä–æ—â–µ** - –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Directions
3. **–ü–æ–ª–µ–∑–Ω–µ–µ** - –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
4. **–ì–∏–±—á–µ** - Instagram –∏ —Å–∞–π—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å

## üîç –ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ prompt1

–ù–∞ –æ—Å–Ω–æ–≤–µ –±—Ä–∏—Ñ–∞ AI —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç:
- –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ Performante
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª "–û –ö–õ–ò–ï–ù–¢–ï" —Å –¥–∞–Ω–Ω—ã–º–∏ –±–∏–∑–Ω–µ—Å–∞
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–¥ –Ω–∏—à—É –∫–ª–∏–µ–Ω—Ç–∞
- –û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- –¶–µ–Ω–æ–≤–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `ONBOARDING_SIMPLIFIED.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `ONBOARDING_BRIEFING_TESTING.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- `migrations/031_create_user_briefing_responses.sql` - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î

---

**–î–∞—Ç–∞**: 21 –Ω–æ—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
**–í–µ—Ä—Å–∏—è**: 2.0 (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)

