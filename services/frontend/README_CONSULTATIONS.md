# Система консультаций - Инструкция по настройке

## Текущее состояние

Система консультаций создана, но находится в режиме заглушки. Для полноценной работы необходимо выполнить следующие шаги:

## Шаг 1: Выполнение SQL скрипта в Supabase

1. Откройте панель управления Supabase
2. Перейдите в раздел "SQL Editor"
3. Выполните SQL скрипт из файла `database/consultation_tables.sql`

Этот скрипт создаст следующие таблицы:
- `consultants` - консультанты
- `working_schedules` - рабочие расписания
- `consultation_slots` - временные слоты
- `consultations` - записи на консультации

## Шаг 2: Обновление TypeScript типов

После выполнения SQL скрипта:

1. В Supabase перейдите в "Settings" → "API"
2. Скопируйте новые типы TypeScript
3. Обновите файл типов Supabase в проекте

## Шаг 3: Восстановление сервиса

После обновления типов замените содержимое файла `src/services/consultationService.ts` на полную реализацию (сохранена в комментариях).

## Структура системы

### Основные компоненты:

1. **Консультанты** (`consultants`)
   - Управление сотрудниками-консультантами
   - Специализации и контактная информация

2. **Рабочие расписания** (`working_schedules`)
   - Настройка рабочих дней и часов для каждого консультанта
   - Поддержка разных расписаний по дням недели

3. **Временные слоты** (`consultation_slots`)
   - Автоматическая генерация доступных слотов
   - Управление доступностью и блокировкой

4. **Консультации** (`consultations`)
   - Записи клиентов на консультации
   - Статусы: scheduled, confirmed, completed, cancelled, no_show

### Функциональность:

- ✅ Создание и управление консультантами
- ✅ Настройка рабочих расписаний
- ✅ Автоматическая генерация временных слотов
- ✅ Запись на консультации
- ✅ Управление статусами консультаций
- ✅ Статистика и отчеты
- ✅ Интеграция с основной CRM системой

## Тестовые данные

SQL скрипт включает тестовые данные:
- 2 консультанта
- Рабочие расписания на будние дни
- Примеры консультаций

## Следующие этапы развития

1. **Календарный интерфейс** - визуальный календарь для записи
2. **Уведомления** - SMS/Email напоминания
3. **Видеоконференции** - интеграция с Zoom/Meet
4. **Автоматизация** - интеграция с n8n для автоматических процессов
5. **Аналитика** - расширенная отчетность и метрики

## Текущие файлы системы

- `database/consultation_tables.sql` - SQL скрипт для создания таблиц
- `src/types/consultation.ts` - TypeScript типы
- `src/services/consultationService.ts` - API сервис (временная заглушка)
- `src/pages/Consultations.tsx` - основная страница
- `README_CONSULTATIONS.md` - данная инструкция 