# üé® Changelog: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–î–∞—Ç–∞**: 22 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.1.0

## üöÄ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–µ–∞—Ç–∏–≤–æ–≤
- –ü–µ—Ä–µ–¥–∞—á–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ URL
- –ü–µ—Ä–µ–¥–∞—á–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ base64
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è, —Ü–≤–µ—Ç–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä—ã –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### 1. `src/types/index.ts`
```diff
export interface GenerateCreativeRequest {
  user_id: string;
  offer: string;
  bullets: string;
  profits: string;
  cta: string;
  direction_id?: string;
+ // –ù–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
+ reference_image?: string;
+ reference_image_type?: 'base64' | 'url';
}
```

#### 2. `src/services/gemini-image.ts`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `referenceImage` –∏ `referenceImageType`
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ URL
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 3. `src/services/prompts.ts`
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `hasReferenceImage` –≤ `buildImagePrompt()`
- –ü—Ä–æ–º–ø—Ç –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∏

#### 4. `src/routes/image.ts`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª–µ–π `reference_image` –∏ `reference_image_type`
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

üìñ **REFERENCE_IMAGE_GUIDE.md** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
üöÄ **QUICK_REFERENCE_IMAGE.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç  
üîß **example-request.sh** - –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–º  
üîß **example-request-no-ref.sh** - –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –±–µ–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

üìù **README.md** - –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –° URL
```json
{
  "reference_image": "https://example.com/brand.jpg",
  "reference_image_type": "url"
}
```

### –° Base64
```json
{
  "reference_image": "/9j/4AAQSkZJRgABAQ...",
  "reference_image_type": "base64"
}
```

## üéØ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

- **–ë—Ä–µ–Ω–¥–∏–Ω–≥**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è –∫–æ–º–ø–∞–Ω–∏–∏
- **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è**: –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–µ–≥–æ—Å—è –¥–∏–∑–∞–π–Ω–∞
- **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è**: –ó–∞–¥–∞–Ω–∏–µ –∂–µ–ª–∞–µ–º–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üîó –°—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Gemini 3 Pro Image Preview](https://ai.google.dev/gemini-api/docs/models?hl=ru#gemini-3-pro-image-preview)
- [Google AI Studio](https://aistudio.google.com/app/apikey)

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:
```bash
# –° —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
./example-request.sh

# –ë–µ–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
./example-request-no-ref.sh
```

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPEG, PNG, GIF, WebP
- URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω
- –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ª–∏–º–∏—Ç–∞–º–∏ Gemini API

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Gemini 3 Pro Image Preview


