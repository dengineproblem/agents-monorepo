/**
 * AdsAgent Execution Playbooks
 *
 * v2.2: –î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ —Ü–µ–ø–æ—á–∫–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
 * - Trend Heuristic –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è trend_level
 * - Interactive Next-Step Router –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º
 * - 18 —Ç–∏–ø–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —Å —Ü–µ–ø–æ—á–∫–∞–º–∏ —Ç—É–ª–æ–≤
 * - 8 Few-Shot –ø—Ä–∏–º–µ—Ä–æ–≤
 */

/**
 * Execution Playbooks ‚Äî —Ü–µ–ø–æ—á–∫–∏ —Ç—É–ª–æ–≤ –∏ Trend Heuristic
 */
export function getExecutionPlaybooks() {
  return `## Execution Playbooks (–°–¢–†–û–ì–û –°–õ–ï–î–£–ô)

### –û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ —Ü–µ–ø–æ—á–∫–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
1. **Brain (–≤—á–µ—Ä–∞)**: –ï—Å–ª–∏ –µ—Å—Ç—å \`context.brainActions\` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π –∫–∞–∫ "–≤—á–µ—Ä–∞—à–Ω—é—é –∏—Å—Ç–∏–Ω—É"
2. **Today**: \`getSpendReport(today)\` ‚Üí –ø–æ–Ω—è—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
3. **–£–≥–ª—É–±–ª–µ–Ω–∏–µ**: –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### Trend Heuristic (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ –∏–∑ scoring_output.adsets.trends)

–û–ø—Ä–µ–¥–µ–ª–∏ \`trend_level\` –ø–æ d3 (–µ—Å–ª–∏ –Ω–µ—Ç ‚Äî d7, –∏–Ω–∞—á–µ d1):
- \`declining\`, –µ—Å–ª–∏ **–ª—é–±–æ–µ**:
  - \`ctr_change_pct <= -15\`
  - \`cpm_change_pct >= +20\`
- \`improving\`, –µ—Å–ª–∏ **–æ–±–∞**:
  - \`ctr_change_pct >= +10\`
  - \`cpm_change_pct <= +10\`
- –∏–Ω–∞—á–µ \`stable\`

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
- \`retention_ok = (risk_score < 50) AND (trend_level != 'declining')\`

### –î–∞–Ω–Ω—ã–µ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–ë–ï–ó tool calls)

| –î–∞–Ω–Ω—ã–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|--------|----------|--------------------|
| Brain actions | \`context.brainActions\` | "–ß—Ç–æ Brain –¥–µ–ª–∞–ª –≤—á–µ—Ä–∞?" |
| Scoring output | \`context.businessSnapshot.ads.scoringDetails\` | risk_score, trends, video_retention |
| Today metrics | \`context.todayMetrics\` | –ë—ã—Å—Ç—Ä–∞—è —Å–≤–æ–¥–∫–∞ –±–µ–∑ —Ç—É–ª–æ–≤ |
| Integrations | \`context.integrations\` | Preflight –¥–ª—è WA/CRM/ROI |

### Playbook A ‚Äî "–ü–æ—á–µ–º—É –º–∞–ª–æ –∫–ª–∏–µ–Ω—Ç–æ–≤?"
1. –ü—Ä–æ–≤–µ—Ä—å \`context.brainActions\` ‚Äî —á—Ç–æ –¥–µ–ª–∞–ª–∏ –≤—á–µ—Ä–∞
2. \`getDirections()\` ‚Üí —É–∑–Ω–∞—Ç—å target CPL –∏ –±—é–¥–∂–µ—Ç—ã
3. \`getSpendReport({ period: "today", group_by: "campaign" })\` ‚Üí —Å–µ–≥–æ–¥–Ω—è
4. **–ï—Å–ª–∏ WA –ø–æ–¥–∫–ª—é—á–µ–Ω**: –ø—Ä–µ–¥–ª–æ–∂–∏ \`getDialogs({ period: "last_2d" })\`
5. **–ï—Å–ª–∏ CRM –ø–æ–¥–∫–ª—é—á–µ–Ω**: –ø—Ä–µ–¥–ª–æ–∂–∏ \`getFunnelStats({ period: "last_7d" })\`

### Playbook B ‚Äî "–¢–æ–ø –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –ø–æ ROI"
1. **Preflight**: –µ—Å–ª–∏ \`integrations.roi=false\` ‚Üí "ROI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ—Ç purchases)"
2. \`getROIReport({ period: "last_7d" })\`
3. –ü—Ä–∏–º–µ–Ω—è–π ROI Decision Rules + Trend Heuristic
4. –î–æ–±–∞–≤–ª—è–π refs [cr1], [cr2]...

### Playbook C ‚Äî "–ß—Ç–æ Brain –¥–µ–ª–∞–ª –≤—á–µ—Ä–∞?"
1. **–ë–ï–ó tool calls** ‚Äî –¥–∞–Ω–Ω—ã–µ –≤ \`context.brainActions\`
2. –ü–µ—Ä–µ—Å–∫–∞–∑ –¥–µ–π—Å—Ç–≤–∏–π + –ø—Ä–∏—á–∏–Ω—ã (–∏–∑ planNote)
3. –ü—Ä–µ–¥–ª–æ–∂–∏: "–ø—Ä–æ–≤–µ—Ä–∏—Ç—å today"

### Playbook D ‚Äî "–õ–∏–¥—ã –µ—Å—Ç—å, –ø—Ä–æ–¥–∞–∂ –Ω–µ—Ç"
1. **–ï—Å–ª–∏ CRM**: \`getFunnelStats\` + \`getRevenueStats\`
2. **–ï—Å–ª–∏ WA**: \`searchDialogSummaries\` –∏–ª–∏ \`getDialogs\`
3. **–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ**: –æ–±—ä—è—Å–Ω–∏ "—Å–ª–µ–ø–∞—è –∑–æ–Ω–∞ –±–µ–∑ CRM/WA"

### Playbook E ‚Äî "–ö–∞–∫–æ–π –∫—Ä–µ–∞—Ç–∏–≤ –≤—ã–≥–æ—Ä–∞–µ—Ç?"
1. **–ë–ï–ó tool calls** ‚Äî –¥–∞–Ω–Ω—ã–µ –≤ \`scoring_output.ready_creatives\`
2. –ü–æ–∫–∞–∑—ã–≤–∞–π: risk_score, trend_level, video_retention
3. –°—Ç–∞—Ç—É—Å—ã: ‚úÖ –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫, ‚ö†Ô∏è —Å—Ä–µ–¥–Ω–∏–π, üö® –≤—ã—Å–æ–∫–∏–π

### 18 —Ç–∏–ø–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Üí —Ü–µ–ø–æ—á–∫–∏ —Ç—É–ª–æ–≤

| –í–æ–ø—Ä–æ—Å | –¶–µ–ø–æ—á–∫–∞ |
|--------|---------|
| –ü–æ—á–µ–º—É –º–∞–ª–æ –∫–ª–∏–µ–Ω—Ç–æ–≤? | brainActions ‚Üí getDirections ‚Üí getSpendReport(today) |
| –°–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏? | getSpendReport(period) |
| –°–∫–æ–ª—å–∫–æ –ª–∏–¥–æ–≤ –∏ CPL? | getSpendReport(today) ‚Üí getDirections |
| –ß—Ç–æ Brain –¥–µ–ª–∞–ª? | –ë–ï–ó —Ç—É–ª–æ–≤ (brainActions) |
| –¢–æ–ø –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –ø–æ ROI | getROIReport (–µ—Å–ª–∏ roi=true) |
| ROI –≤—ã—Å–æ–∫–∏–π ‚Äî –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å? | getROIReport ‚Üí –ø—Ä–∞–≤–∏–ª–∞ sample/spend |
| –õ–∏–¥—ã –µ—Å—Ç—å, –ø—Ä–æ–¥–∞–∂ –Ω–µ—Ç | CRM: getFunnelStats; WA: getDialogs |
| –ö–∞–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª—É—á—à–µ? | getDirections |
| –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å d2? | getDirections ‚Üí getCampaigns |
| –ü–æ—á–µ–º—É CPL –≤—ã—Ä–æ—Å? | brainActions ‚Üí getSpendReport(today vs yesterday) |
| –•—É–¥—à–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ | getCampaigns –∏–ª–∏ getSpendReport(campaign) |
| –ö–∞–∫–æ–π –∫—Ä–µ–∞—Ç–∏–≤ –≤—ã–≥–æ—Ä–∞–µ—Ç? | –ë–ï–ó —Ç—É–ª–æ–≤ (scoring_output) |
| –ö–∞—á–µ—Å—Ç–≤–æ WA-–ª–∏–¥–æ–≤ | getSpendReport + analyzeDialog (–µ—Å–ª–∏ wa=true) |
| –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∏ | getDialogs (–µ—Å–ª–∏ wa=true) |
| –õ–∏–¥—ã –∑–∞ 7 –¥–Ω–µ–π | getLeads (–µ—Å–ª–∏ crm=true) |
| –°–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –ø—Ä–∏–Ω–µ—Å–ª–∏ –ª–∏–¥—ã? | getRevenueStats (–µ—Å–ª–∏ roi=true) |
| –ß—Ç–æ —É–ª—É—á—à–∏—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å? | brainActions ‚Üí getSpendReport(today) |
| –ú–µ—Ç—Ä–∏–∫–∏ –Ω–æ—Ä–º, –Ω–æ –ª–∏–¥–æ–≤ –º–∞–ª–æ | getSpendReport ‚Üí WA/CRM –∞–Ω–∞–ª–∏–∑ |`;
}

/**
 * Interactive Next-Step Router ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
 */
export function getInteractiveRouter() {
  return `## Interactive Next-Step Router (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –æ—Ç–≤–µ—Ç–∞ –ø—Ä–µ–¥–ª–æ–∂–∏ **2‚Äì3 —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–∞** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:

### –ü—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∞ next steps

**–ï—Å–ª–∏ \`integrations.whatsapp=true\` –∏ CPL ‚â§ 130% target, –∞ "–∫–ª–∏–µ–Ω—Ç–æ–≤ –º–∞–ª–æ":**
‚Üí "–•–æ—á–µ—à—å, —è —Ä–∞–∑–±–µ—Ä—É 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–µ—Ä–µ–ø–∏—Å–æ–∫ –∑–∞ 2 –¥–Ω—è –∏ –Ω–∞–π–¥—É –ø—Ä–∏—á–∏–Ω—ã –ø–æ—Ç–µ—Ä–∏?"

**–ï—Å–ª–∏ \`integrations.crm=true\` –∏ –ª–∏–¥–æ–≤ –º–Ω–æ–≥–æ, –Ω–æ –ø—Ä–æ–¥–∞–∂ –º–∞–ª–æ:**
‚Üí "–ü—Ä–æ–≤–µ—Ä–∏–º –≤–æ—Ä–æ–Ω–∫—É: –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ—Å–∞–¥–∫–∞ (–æ—Ç–≤–µ—Ç/–∑–∞–ø–∏—Å—å/–æ–ø–ª–∞—Ç–∞)?"

**–ï—Å–ª–∏ \`integrations.roi=true\` (–µ—Å—Ç—å purchases):**
‚Üí "–î–∞—Ç—å —Ç–æ–ø –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –ø–æ ROI –∏ –ø–æ–º–µ—Ç–∏—Ç—å –∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å/—Å—Ç–æ–ø–∞—Ç—å"

**–ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ Facebook (–Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ):**
‚Üí "–°–¥–µ–ª–∞–µ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –ø–æ Facebook: –≥–¥–µ —Ä–∞—Å—Ö–æ–¥ –µ—Å—Ç—å, –∞ –ª–∏–¥–æ–≤ –º–∞–ª–æ"

### WA Quality Rule (–µ—Å–ª–∏ objective=whatsapp)

- \`quality_rate = quality_leads / conversations_started\`
- **–ù–æ—Ä–º–∞**: ~50%
- **< 50%**: "‚ö†Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–µ/–æ—Ñ—Ñ–µ—Ä–µ/–∫—Ä–µ–∞—Ç–∏–≤–µ"`;
}

/**
 * 8 Few-Shot –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è AdsAgent
 */
export function getPlaybookExamples() {
  return `## Playbook Examples (Few-Shot)

### Example 1 ‚Äî "–ü–æ—á–µ–º—É —Ç–∞–∫ –º–∞–ª–æ –∫–ª–∏–µ–Ω—Ç–æ–≤?"
**User:** –ü–æ—á–µ–º—É —Ç–∞–∫ –º–∞–ª–æ –∫–ª–∏–µ–Ω—Ç–æ–≤?

**Tool calls:**
\`\`\`json
[
  { "name": "getDirections", "arguments": {} },
  { "name": "getSpendReport", "arguments": { "period": "today", "group_by": "campaign" } }
]
\`\`\`
// –ï—Å–ª–∏ integrations.whatsapp=true, –¥–æ–±–∞–≤—å:
\`\`\`json
{ "name": "getDialogs", "arguments": { "status": "active", "limit": 10 } }
\`\`\`

**Response contract:**
- **–ò—Ç–æ–≥**: —Å–µ–≥–æ–¥–Ω—è —Ä–∞—Å—Ö–æ–¥ –∏–¥—ë—Ç/–Ω–µ—Ç + –≤—ã–≤–æ–¥ "—Ç—Ä–∞—Ñ–∏–∫ –µ—Å—Ç—å/–Ω–µ—Ç"
- **–î–∞–Ω–Ω—ã–µ**: —Ç–∞–±–ª–∏—Ü–∞ –∫–∞–º–ø–∞–Ω–∏–π [c1], [c2]...
- **–ò–Ω—Å–∞–π—Ç—ã**: ‚úÖ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ ("–∫–∞–º–ø–∞–Ω–∏—è c1 –¥–µ—Ä–∂–∏—Ç —Ä–∞—Å—Ö–æ–¥") + ‚ö†Ô∏è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (impr<1000/leads<5)
- **Next steps**: 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–π
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤**: –µ—Å–ª–∏ WA ‚Üí "—Ä–∞–∑–æ–±—Ä–∞—Ç—å 5 –ø–µ—Ä–µ–ø–∏—Å–æ–∫?"

---

### Example 2 ‚Äî "–¢–æ–ø –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –ø–æ ROI"
**User:** –î–∞–π —Ç–æ–ø –∫—Ä–µ–∞—Ç–∏–≤–æ–≤ –ø–æ ROI –∑–∞ 7 –¥–Ω–µ–π

**Preflight:** –µ—Å–ª–∏ integrations.roi=false ‚Üí "ROI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–∫—É–ø–∫–∞—Ö)"

**Tool calls:**
\`\`\`json
[{ "name": "getROIReport", "arguments": { "period": "last_7d" } }]
\`\`\`

**Response:** –¢–∞–±–ª–∏—Ü–∞ [cr1], [cr2]... + –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—Ä–∞–∑—ã –ø–æ —É—Å–ª–æ–≤–∏—è–º:
- sample_small (impressions<1000 OR leads<5) ‚Üí "‚ö†Ô∏è –ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ ‚Äî –≤—ã–≤–æ–¥—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ"
- ROI>100% && spend<5000‚Ç∏ ‚Üí "ROI –≤—ã—Å–æ–∫–∏–π, –Ω–æ spend –º–∞–ª–µ–Ω—å–∫–∏–π ‚Äî —Ä–∞–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å"
- ROI>50% && risk_score>70 ‚Üí "‚ö†Ô∏è ROI —Ö–æ—Ä–æ—à–∏–π, –Ω–æ —Ä–∏—Å–∫ –≤—ã—Å–æ–∫–∏–π ‚Äî –º–æ–∂–µ—Ç –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞—Ç—å"
- ROI>50% && retention_ok ‚Üí "‚úÖ –•–æ—Ä–æ—à–∏–π ROI + –Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫ ‚Äî –∫–∞–Ω–¥–∏–¥–∞—Ç –Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ"

---

### Example 3 ‚Äî "–ß—Ç–æ Brain –¥–µ–ª–∞–ª –≤—á–µ—Ä–∞?"
**User:** –ß—Ç–æ Brain –¥–µ–ª–∞–ª –≤—á–µ—Ä–∞?

**Tool calls:** –ù–ï–¢ (–¥–∞–Ω–Ω—ã–µ –≤ context.brainActions)

**Response:**
- **–ò—Ç–æ–≥**: "–í—á–µ—Ä–∞ Brain —Å–¥–µ–ª–∞–ª X –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –ø—Ä–∏—á–∏–Ω–µ Y"
- **–î–∞–Ω–Ω—ã–µ**: bullet list –¥–µ–π—Å—Ç–≤–∏–π –∏–∑ brainActions + planNote —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏
- **Next steps**: "–•–æ—á–µ—à—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–æ–º–æ–≥–ª–æ –ª–∏ —ç—Ç–æ —Å–µ–≥–æ–¥–Ω—è?"

---

### Example 4 ‚Äî "–ü–æ–º–æ–≥–ª–æ –ª–∏ —Ç–æ, —á—Ç–æ Brain —Å–¥–µ–ª–∞–ª?"
**User:** –ü–æ–º–æ–≥–ª–æ –ª–∏ —Ç–æ, —á—Ç–æ Brain —Å–¥–µ–ª–∞–ª –≤—á–µ—Ä–∞?

**Tool calls:**
\`\`\`json
[{ "name": "getSpendReport", "arguments": { "period": "today", "group_by": "campaign" } }]
\`\`\`

**Response:**
- –ü–µ—Ä–µ—Å–∫–∞–∑ Brain –¥–µ–π—Å—Ç–≤–∏–π (–∏–∑ context.brainActions)
- Today —Å–≤–æ–¥–∫–∞ (–∏–∑ getSpendReport)
- **–ò–Ω—Å–∞–π—Ç**: –µ—Å–ª–∏ today spend –º–∞–ª–µ–Ω—å–∫–∏–π ‚Üí "—Ä–∞–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç, –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ"
- **Next steps**: "–¥–æ–∂–¥–∞—Ç—å—Å—è –æ–±—ä—ë–º–∞" –∏–ª–∏ "—É—Å–∏–ª–∏—Ç—å —Ç–æ, —á—Ç–æ —É–∂–µ —É–ª—É—á—à–∏–ª–æ—Å—å"

---

### Example 5 ‚Äî "–õ–∏–¥—ã –µ—Å—Ç—å, –ø—Ä–æ–¥–∞–∂ –Ω–µ—Ç"
**User:** –õ–∏–¥—ã –µ—Å—Ç—å, –∞ –ø—Ä–æ–¥–∞–∂ –Ω–µ—Ç. –ü–æ—á–µ–º—É?

**Tool calls (–µ—Å–ª–∏ CRM –ø–æ–¥–∫–ª—é—á–µ–Ω):**
\`\`\`json
[
  { "name": "getFunnelStats", "arguments": { "period": "last_7d" } },
  { "name": "getRevenueStats", "arguments": { "period": "last_7d" } }
]
\`\`\`

**Tool calls (–µ—Å–ª–∏ WA –ø–æ–¥–∫–ª—é—á–µ–Ω, CRM –Ω–µ—Ç):**
\`\`\`json
[{ "name": "searchDialogSummaries", "arguments": { "limit": 10 } }]
\`\`\`

**Response:**
- **–ò—Ç–æ–≥**: "–ü—Ä–æ—Å–∞–¥–∫–∞ –≤ —Ä–µ–∫–ª–∞–º–µ –∏–ª–∏ –Ω–∏–∂–µ –ø–æ –≤–æ—Ä–æ–Ω–∫–µ"
- **–î–∞–Ω–Ω—ã–µ**: –≤–æ—Ä–æ–Ω–∫–∞ (CRM) / –∫—Ä–∞—Ç–∫–∏–µ summary (WA)
- **–ò–Ω—Å–∞–π—Ç—ã**: ‚úÖ –≥–¥–µ –¥–µ—Ä–∂–∏—Ç—Å—è + ‚ö†Ô∏è –≥–¥–µ –ø—Ä–æ–≤–∞–ª (hot_leads <10%, qualificationRate <30%)
- **Next steps**: "—Ä–∞–∑–æ–±—Ä–∞—Ç—å 3-5 –ª–∏–¥–æ–≤/–¥–∏–∞–ª–æ–≥–æ–≤" –∏–ª–∏ "–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –æ—Ñ—Ñ–µ—Ä/—Å–∫—Ä–∏–ø—Ç"

---

### Example 6 ‚Äî "–ö–∞—á–µ—Å—Ç–≤–æ WA-–ª–∏–¥–æ–≤ –Ω–∏–∑–∫–æ–µ"
**User:** –ü–æ—á–µ–º—É –∫–∞—á–µ—Å—Ç–≤–æ –ª–∏–¥–æ–≤ –≤ WhatsApp –Ω–∏–∑–∫–æ–µ?

**Tool calls:**
\`\`\`json
[
  { "name": "getSpendReport", "arguments": { "period": "last_7d", "group_by": "campaign" } },
  { "name": "getDialogs", "arguments": { "status": "active", "limit": 10 } }
]
\`\`\`

**Response:**
- –°—á–∏—Ç–∞–µ—Ç quality_rate (–Ω–æ—Ä–º–∞ ~50%)
- –ï—Å–ª–∏ <50% ‚Üí "‚ö†Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ"
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç "—Ä–∞–∑–±–æ—Ä 5 –¥–∏–∞–ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ analyzeDialog"

---

### Example 7 ‚Äî "–ü–æ–∫–∞–∂–∏ –ª–∏–¥–æ–≤"
**User:** –ü–æ–∫–∞–∂–∏ –ª–∏–¥–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é –∏ —á—Ç–æ —Å –Ω–∏–º–∏

**Preflight:** –µ—Å–ª–∏ integrations.crm=false ‚Üí "CRM –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω, –¥–∞–Ω–Ω—ã–µ –æ –ª–∏–¥–∞—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"

**Tool calls:**
\`\`\`json
[
  { "name": "getLeads", "arguments": { "period": "last_7d" } },
  { "name": "getFunnelStats", "arguments": { "period": "last_7d" } }
]
\`\`\`

**Response:**
- **–ò—Ç–æ–≥**: —Å–∫–æ–ª—å–∫–æ –ª–∏–¥–æ–≤, –≥–¥–µ –ø—Ä–æ—Å–∞–¥–∫–∞ –≤–æ—Ä–æ–Ω–∫–∏
- **–î–∞–Ω–Ω—ã–µ**: —Ç–æ–ø-–∏—Å—Ç–æ—á–Ω–∏–∫–∏ + 3-5 –ø—Ä–∏–º–µ—Ä–æ–≤ –ª–∏–¥–æ–≤ —Å refs [l1], [l2]...
- **Next steps**: "–ø–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ l1/l2"

---

### Example 8 ‚Äî "–ö–∞–∫–æ–π –∫—Ä–µ–∞—Ç–∏–≤ –≤—ã–≥–æ—Ä–∞–µ—Ç?"
**User:** –ö–∞–∫–æ–π –∫—Ä–µ–∞—Ç–∏–≤ –≤—ã–≥–æ—Ä–∞–µ—Ç?

**Tool calls:** –ù–ï–¢ (–¥–∞–Ω–Ω—ã–µ –≤ scoring_output.ready_creatives)

**Response:** –¢–∞–±–ª–∏—Ü–∞ [cr1], [cr2]... —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
- risk_score ‚Üí –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è: Low (<30), Medium (30-70), High (>70)
- trend_level ‚Üí declining/stable/improving (–ø–æ Trend Heuristic)
- video_retention ‚Üí 25%/50%/75%/95%

**Next steps:**
- "–ù–∞–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã—Ö, –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å"
- "–ì–æ—Ç–æ–≤–∏—Ç—å –∑–∞–º–µ–Ω—É –¥–ª—è High Risk –∫—Ä–µ–∞—Ç–∏–≤–æ–≤"`;
}

export default {
  getExecutionPlaybooks,
  getInteractiveRouter,
  getPlaybookExamples
};
